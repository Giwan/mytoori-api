
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Mytoori API Reference</title>

    <link rel="stylesheet" href="css/style.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script src="js/lib/energize.js"></script>
<script src="js/lib/imagesloaded.min.js"></script>
<script src="js/lib/jquery_ui.js"></script>
<script src="js/lib/jquery.highlight.js"></script>
<script src="js/lib/jquery.tocify.js"></script>
<script src="js/lib/lunr.js"></script>
    <script src="js/script.js"></script>

    
      <script>
        $(function() {
            setupLanguages(["objectivec","bash"]);
        });
      </script>
    
  </head>

  <body class="">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png">
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png">
      
        <div class="lang-selector">
          
              <a href="#" data-language-name="objectivec">objectivec</a>
          
              <a href="#" data-language-name="bash">bash</a>
          
        </div>
      
      
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      
      <div id="toc">
      </div>
      
        <ul class="toc-footer">
          
              <li>By <a href="#">Giwan Persaud</a></li>
          
        </ul>
      
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Welcome to the Mytoori API! You can use our API to access Mytoori, which can get information on published and featured bilingual books.</p>
<p>Suppported languages are Objective-C and Bash. Code examples are in the dark area to the right. Switch the programming language of the examples with the tabs in the top right.</p>
<h1 id="Featured"><a href="#Featured" class="headerlink" title="Featured"></a>Featured</h1><p>The featured section shows a list of books featured on the front-page. These are listed based on their publication date.</p>
<blockquote>
<p>Get a list of featured books, stories and poems</p>
</blockquote>
<pre><code class="highlight objectivec"><div class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> urlWithString:<span class="string">@"http://app.mytoori.com/api/0.1/collection/featured"</span>];</div><div class="line"></div><div class="line"><span class="comment">/* use the url object to create a data object */</span></div><div class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsFromURL:url];</div><div class="line"></div><div class="line"><span class="comment">/* Use NSJSON to convert data object to JSON object */</span></div><div class="line"></div><div class="line"><span class="built_in">NSArray</span> *results = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:data options:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error2];</div></code></pre>
<pre><code class="highlight bash"><div class="line">curl <span class="string">"http://app.mytoori.com/api/0.1/collection/featured"</span></div></code></pre>
<h1 id="Individual-book"><a href="#Individual-book" class="headerlink" title="Individual book"></a>Individual book</h1><p>Request an individual book based on it’s ISBN. The client app provides an ISBN in the call. In response the details of the requested book are returned in JSON format.</p>
<blockquote>
<p>Request book details such as titles and author information.<br>The book data is returned is returned as a JSON object </p>
</blockquote>
<pre><code class="highlight objectivec"><div class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> urlWithString:<span class="string">@"http://app.mytoori.com/api/0.1/isbn/com.mytoori.book.androcles.nl.en"</span>];</div><div class="line"><span class="comment">/*</span></div><div class="line">Use the url object to create a data object</div><div class="line"> */</div><div class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsFromURL:url];</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line">Use NSJSON to convert data object to JSON object</div><div class="line"> */</div><div class="line"><span class="built_in">NSArray</span> *results = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:data option:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error2];</div></code></pre>
<pre><code class="highlight bash"><div class="line">curl http://app.mytoori.com/api/0.1/isbn/com.mytoori.book.androcles.nl.en</div></code></pre>
<blockquote>
<p>The JSON response looks like this</p>
</blockquote>
<pre><code class="highlight json"><div class="line">&#123;</div><div class="line">	<span class="attr">"_id"</span>: <span class="string">"nttz3ibX9sSYJAdPR"</span>,</div><div class="line">	<span class="attr">"author"</span>: <span class="string">"An Aesop's Fable"</span>,</div><div class="line">	<span class="attr">"title1"</span>: <span class="string">"Androcles"</span>,</div><div class="line">	<span class="attr">"title2"</span>: <span class="string">"Androcles"</span>,</div><div class="line">	<span class="attr">"description1"</span>: <span class="string">"Androcles and the Lion is one of the worldfamous Aesop's fables, which date back to the 5th Century BC. Fables are short stories which illustrate a particular moral and teach a lesson to children. The theme and characters appeal to children and the stories are often humorous and entertaining for kids of all ages. "</span>,</div><div class="line">	<span class="attr">"description2"</span>: <span class="string">"Androcles en de Leeuw is een van de wereldberoemde fabels van Aesop uit de vijfde eeuw voor Christus. Fabels zijn korte verhaaltjes die een bepaalde moraal hebben en een les leren voor kinderen. Het thema en de karakters zijn aantrekkelijk voor kinderen en de verhaaltjes zijn vaak humoristisch en onderhoudend voor kinderen van alle leeftijden.  "</span>,</div><div class="line">	<span class="attr">"notes1"</span>: <span class="string">"Fluent in English. Native in Dutch"</span>,</div><div class="line">	<span class="attr">"notes2"</span>: <span class="string">"Vloeiend Engels. Moedertaal Nederlands. "</span>,</div><div class="line">	<span class="attr">"language1"</span>: <span class="string">"en"</span>,</div><div class="line">	<span class="attr">"language2"</span>: <span class="string">"nl"</span>,</div><div class="line">	<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span>,</div><div class="line">	<span class="attr">"cover"</span>: <span class="string">"25626346216"</span>,</div><div class="line">	<span class="attr">"price"</span>: <span class="number">0</span>,</div><div class="line">	<span class="attr">"status"</span>: <span class="string">"published"</span>,</div><div class="line">	<span class="attr">"authorFirstname"</span>: <span class="string">"Aesop's"</span>,</div><div class="line">	<span class="attr">"authorLastname"</span>: <span class="string">"Fable"</span>,</div><div class="line">	<span class="attr">"translatorFirstname"</span>: <span class="string">"Aesop's"</span>,</div><div class="line">	<span class="attr">"translatorLastname"</span>: <span class="string">"Fable"</span>,</div><div class="line">	<span class="attr">"isbn"</span>: <span class="string">"com.mytoori.book.androcles"</span>,</div><div class="line">	<span class="attr">"cover2"</span>: <span class="string">"25652534415"</span></div><div class="line">&#125;</div></code></pre>
<h1 id="Book-Download"><a href="#Book-Download" class="headerlink" title="Book Download"></a>Book Download</h1><p>Export (download) the contents of an individual book. The request is made with the book’s database ID. The response provides the book values in JSON format.</p>
<pre><code class="highlight objectivec"><div class="line"><span class="built_in">NSDictionary</span> *bookObject, <span class="built_in">NSError</span> *error;</div><div class="line"></div><div class="line"><span class="built_in">NSURL</span> *url = [TWStaticInfo apiURL];</div><div class="line">url = [url URLByAppendingPathComponent:API_BOOKDATA_JSON];</div><div class="line">url = [url URLByAppendingPathComponent:bookId];</div><div class="line"></div><div class="line"><span class="built_in">NSData</span> *bookData = [<span class="built_in">NSData</span> dataWithContentsOfURL:url options:kNilOptions error:&amp;error];</div><div class="line"></div><div class="line"><span class="keyword">if</span> (bookData) bookObject = [<span class="built_in">NSData</span> dataWithContentsOfURL:url options:kNilOptions error:&amp;error];</div></code></pre>
<pre><code class="highlight bash"><div class="line"></div><div class="line">curl http://app.mytoori.com/api/0.1/story_json_<span class="built_in">export</span>/nttz3ibX9sSYJAdPR</div></code></pre>
<pre><code class="highlight json"><div class="line">&#123;</div><div class="line">	<span class="attr">"_id"</span>: <span class="string">"nttz3ibX9sSYJAdPR"</span>,</div><div class="line">	<span class="attr">"author"</span>: <span class="string">"An Aesop's Fable"</span>,</div><div class="line">	<span class="attr">"title1"</span>: <span class="string">"Androcles"</span>,</div><div class="line">	<span class="attr">"title2"</span>: <span class="string">"Androcles"</span>,</div><div class="line">	<span class="attr">"description1"</span>: <span class="string">"Androcles and the Lion is one of the worldfamous Aesop's fables, which date back to the 5th Century BC. Fables are short stories which illustrate a particular moral and teach a lesson to children. The theme and characters appeal to children and the stories are often humorous and entertaining for kids of all ages. "</span>,</div><div class="line">	<span class="attr">"description2"</span>: <span class="string">"Androcles en de Leeuw is een van de wereldberoemde fabels van Aesop uit de vijfde eeuw voor Christus. Fabels zijn korte verhaaltjes die een bepaalde moraal hebben en een les leren voor kinderen. Het thema en de karakters zijn aantrekkelijk voor kinderen en de verhaaltjes zijn vaak humoristisch en onderhoudend voor kinderen van alle leeftijden.  "</span>,</div><div class="line">	<span class="attr">"notes1"</span>: <span class="string">"Fluent in English. Native in Dutch"</span>,</div><div class="line">	<span class="attr">"notes2"</span>: <span class="string">"Vloeiend Engels. Moedertaal Nederlands. "</span>,</div><div class="line">	<span class="attr">"language1"</span>: <span class="string">"en"</span>,</div><div class="line">	<span class="attr">"language2"</span>: <span class="string">"nl"</span>,</div><div class="line">	<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span>,</div><div class="line">	<span class="attr">"cover"</span>: <span class="string">"25626346216"</span>,</div><div class="line">	<span class="attr">"price"</span>: <span class="number">0</span>,</div><div class="line">	<span class="attr">"status"</span>: <span class="string">"published"</span>,</div><div class="line">	<span class="attr">"authorFirstname"</span>: <span class="string">"Aesop's"</span>,</div><div class="line">	<span class="attr">"authorLastname"</span>: <span class="string">"Fable"</span>,</div><div class="line">	<span class="attr">"translatorFirstname"</span>: <span class="string">"Aesop's"</span>,</div><div class="line">	<span class="attr">"translatorLastname"</span>: <span class="string">"Fable"</span>,</div><div class="line">	<span class="attr">"isbn"</span>: <span class="string">"com.mytoori.book.androcles.en.nl"</span>,</div><div class="line">	<span class="attr">"cover2"</span>: <span class="string">"25652534415"</span>,</div><div class="line">	<span class="attr">"chapters"</span>: [&#123;</div><div class="line">		<span class="attr">"_id"</span>: <span class="string">"fa62odK2dM9YTx8he"</span>,</div><div class="line">		<span class="attr">"documentid"</span>: <span class="string">"nttz3ibX9sSYJAdPR"</span>,</div><div class="line">		<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span>,</div><div class="line">		<span class="attr">"number"</span>: <span class="string">"1"</span>,</div><div class="line">		<span class="attr">"paragraphs"</span>: [&#123;</div><div class="line">			<span class="attr">"_id"</span>: <span class="string">"XS4PoY2znsz7X3oiH"</span>,</div><div class="line">			<span class="attr">"chapterid"</span>: <span class="string">"fa62odK2dM9YTx8he"</span>,</div><div class="line">			<span class="attr">"number"</span>: <span class="string">"0"</span>,</div><div class="line">			<span class="attr">"text1"</span>: <span class="string">"A slave named Androcles once escaped from his master and fled to the forest."</span>,</div><div class="line">			<span class="attr">"text2"</span>: <span class="string">"Er was eens een slaaf met de naam Andocles die van zijn meester ontsnapte en vluchtte naar het bos."</span>,</div><div class="line">			<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span></div><div class="line">		&#125;, &#123;</div><div class="line">			<span class="attr">"_id"</span>: <span class="string">"K8ErChaNoDZ7622SG"</span>,</div><div class="line">			<span class="attr">"chapterid"</span>: <span class="string">"fa62odK2dM9YTx8he"</span>,</div><div class="line">			<span class="attr">"number"</span>: <span class="string">"1"</span>,</div><div class="line">			<span class="attr">"text1"</span>: <span class="string">"As he was wandering about there he came upon a Lion lying down moaning and groaning."</span>,</div><div class="line">			<span class="attr">"text2"</span>: <span class="string">"Toen hij in het bos aan het rond dwalen was, kwam hij een Leeuw tegen die op de grond lag te kreunen en steunen."</span>,</div><div class="line">			<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span></div><div class="line">		&#125;, &#123;</div><div class="line">			<span class="attr">"_id"</span>: <span class="string">"vyy3NMLSwff7cACfi"</span>,</div><div class="line">			<span class="attr">"chapterid"</span>: <span class="string">"fa62odK2dM9YTx8he"</span>,</div><div class="line">			<span class="attr">"number"</span>: <span class="string">"2"</span>,</div><div class="line">			<span class="attr">"text1"</span>: <span class="string">"At first he turned to flee, but finding that the Lion did not pursue him, he turned back and went up to him."</span>,</div><div class="line">			<span class="attr">"text2"</span>: <span class="string">"Eerst wilde hij vluchten, maar toen hij merkte dat de Leeuw hem niet achterna kwam, draaide hij om en keerde terug naar de Leeuw."</span>,</div><div class="line">			<span class="attr">"userId"</span>: <span class="string">"J4Fb9fSD8WDC7ymLd"</span></div><div class="line">		&#125;]</div><div class="line">	&#125;]</div><div class="line">&#125;</div></code></pre>
<h1 id="Purchased"><a href="#Purchased" class="headerlink" title="Purchased"></a>Purchased</h1><h2 id="Purchased-books"><a href="#Purchased-books" class="headerlink" title="Purchased books"></a>Purchased books</h2><p>A list of books based on the user’s purchase receipt. This end-point takes a list of book ID’s extracted from the purchased receipt. Based on these IDs the full details of the purchased books can be accessed.</p>
<blockquote>
<p>Takes an array of ID’s and returns a detailed list of Purchased books</p>
</blockquote>
<pre><code class="highlight plain"><div class="line">GET http://app.mytoori.com/api/0.1/getBooks</div></code></pre>
<pre><code class="highlight plain"><div class="line">lals</div></code></pre>

        
          
              <h1 id="Errors"><a href="#Errors" class="headerlink" title="Errors"></a>Errors</h1><aside class="notice">This error section is stored in a separate file in <code>includes/_errors.md</code>. Whiteboard allows you to optionally separate out your docs into many files…just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>‘s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td>Bad Request – Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized – Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden – The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found – The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed – You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable – You requested a format that isn’t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone – The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I’m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests – You’re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error – We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable – We’re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody>
</table>

          
        
      </div>
      <div class="dark-box">
        
          <div class="lang-selector">
            
                <a href="#" data-language-name="objectivec">objectivec</a>
            
                <a href="#" data-language-name="bash">bash</a>
            
          </div>
        
      </div>
    </div>
  </body>
</html>
